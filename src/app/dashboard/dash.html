<html>
  <head>
<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
  </head>
  <body id="bdy">
  	<script type="text/javascript">
  	
  	
  var userId = prompt('Username?', 'Guest');
  checkIfUserExists(userId);



function userExistsCallback(userId, exists) {
  if (exists) {
    alert('user ' + userId + ' exists!');
  } else {
    alert('user ' + userId + ' does not exist!');
  }
}

// Tests to see if /users/<userId> has any data. 
function checkIfUserExists(userId) {
  var usersRef = new Firebase('https://shining-fire-6868.firebaseio.com/members');
   usersRef.child(userId).once('value', function(snapshot) {
    var exists = (snapshot.val() !== null);
    if(exists)
    {
    	var room = snapshot.val();
    	var p=room;
    	console.log(p);
        var arr=Object.keys(room);
        var l=arr.length;
        console.log(l);
        for(var i=0;i<l;i++)
        {
        	var x = document.createElement("LI");
             var t = document.createTextNode(arr[i]);
             x.appendChild(t);
              document.getElementById("rooms").appendChild(x);
        }
    }
    else{
    	var x = document.createElement("p");
             var t = document.createTextNode("Create text node");
             x.appendChild(t);
              document.getElementById("bdy").appendChild(x);

    }
    userExistsCallback(userId, exists);
  });
}
        

  	var user="ayushi";
  	//alert(ref.mem1);
  	</script>
  	<ul id="rooms">

  	</ul>
  </body>
</html>